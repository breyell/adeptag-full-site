{% set news = fn('Timber::get_posts', {
  post_type: 'news',
	posts_per_page: -1,
}) %}

<section
  x-data='newsFilter({{ news|escape("js")|json_encode }})'
  class="py-20"
>
  <div class="fluid-grid">
    <div class="span-content text-blue-dark">
      <h2 class="text-subhead mb-3">Latest news and announcements</h2>
      <div class="border-t border-t-black">
        <template x-for="(post, index) in displayedPosts">
          <article
            :class="index != displayedPosts.length - 1 && 'border-b border-b-black'"
            class="group relative py-6 space-y-2 lg:py-10"
          >
            <h3 class="inline-block">
              <a
                :href="post.link"
                class="group inline-block"
              >
                <span
                  x-text="post.title"
                  class="text-h5"
                ></span>
                <div class="inline-block w-6 h-full ml-6 transition-transform group-hover:translate-x-2">
                  {% include "svgs/arrow-right.twig" %}
                </div>
                <div class="absolute inset-0"></div>
              </a>
            </h3>
            <div
              x-text="post.date"
              class="flex gap-x-1 text-subhead"
            >{{ article.date }}</div>
          </article>
        </template>
      </div>
    </div>
    <div class="span-content -mt-12">
      {% include "partials/pagination.twig" with { items: posts } %}
    </div>
  </div>
</section>
